// Gắn sự kiện click cho các phần tử có class "btnAddToCart" (nút "Thêm vào giỏ hàng")
$(".btnAddToCart").click(function (t) {
    // Xóa padding-right của body (có thể để tránh lỗi giao diện khi mở modal hoặc offcanvas)
    $("body").css("padding-right", "0px!important");

    // Lấy ID sản phẩm từ thuộc tính data-id của nút được click
    var o = $(t.currentTarget).data("id");

    // Lấy số lượng sản phẩm từ input có ID "quantity"
    var e = $("#quantity").val();

    // Tạo key cho cookie theo định dạng "product_[productId]" (ví dụ: product_1)
    var i = "product_" + o;

    // Lấy số lượng hiện tại của sản phẩm từ cookie (nếu sản phẩm đã có trong giỏ hàng)
    var n = Cookie.get(i);

    // Nếu sản phẩm đã có trong giỏ hàng (n tồn tại), cộng số lượng mới vào số lượng hiện tại
    if (n) {
        e = Number(n) + Number(e);
    }

    // Lưu số lượng mới vào cookie với thời hạn 30 ngày
    Cookie.set(i, e, 30);

    // Cập nhật số lượng sản phẩm hiển thị trên giao diện (lblCartCount)
    var r = $(".lblCartCount");
    if (r.length) { // Nếu phần tử lblCartCount tồn tại
        r.text(Cookie.countProduct()); // Cập nhật số lượng sản phẩm trong giỏ hàng (tính tổng số sản phẩm)
    } else { // Nếu không tìm thấy lblCartCount
        $("#lblCartCount").text(1); // Mặc định hiển thị số 1 (có thể là trường hợp đặc biệt)
    }

    // Hiển thị thông báo "Thêm vào giỏ thành công" bằng SweetAlert
    Swal.fire({
        position: "center", // Vị trí thông báo (giữa màn hình)
        icon: "success", // Biểu tượng thành công
        title: "Thêm vào giỏ thành công", // Tiêu đề thông báo
        showConfirmButton: false, // Không hiển thị nút xác nhận
        timer: 1000 // Tự động đóng sau 1 giây (1000ms)
    });
});